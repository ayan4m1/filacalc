"use strict";(self.webpackChunkfilacalc=self.webpackChunkfilacalc||[]).push([[239],{7148:function(e,n,t){t.r(n),t.d(n,{default:function(){return je}});var r=t(38485),o=t(52394),a=t(67294),s=t(94184),l=t.n(s),i=t(60930),u=t(9351),c=t(14289),d=t(88833),m=t(14357),p=t(55111),h=t(78146);var f=a.createContext(null),g=t(32092),x=t(89419),b=t(5680),v=t(90012),y=t(85893);const w=["children"];const Z=()=>{};function C(e={}){const n=(0,a.useContext)(f),[t,r]=(0,g.Z)(),o=(0,a.useRef)(!1),{flip:s,offset:l,rootCloseEvent:i,fixed:u=!1,placement:c,popperConfig:d={},enableEventListeners:m=!0,usePopper:p=!!n}=e,h=null==(null==n?void 0:n.show)?!!e.show:n.show;h&&!o.current&&(o.current=!0);const{placement:y,setMenu:w,menuElement:C,toggleElement:j}=n||{},P=(0,x.Z)(j,C,(0,v.ZP)({placement:c||y||"bottom-start",enabled:p,enableEvents:m??h,offset:l,flip:s,fixed:u,arrowElement:t,popperConfig:d})),S=Object.assign({ref:w||Z,"aria-labelledby":null==j?void 0:j.id},P.attributes.popper,{style:P.styles.popper}),z={show:h,placement:y,hasShown:o.current,toggle:null==n?void 0:n.toggle,popper:p?P:null,arrowProps:p?Object.assign({ref:r},P.attributes.arrow,{style:P.styles.arrow}):{}};return(0,b.Z)(C,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:i,disabled:!h}),[S,z]}function j(e){let{children:n}=e,t=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,w);const[r,o]=C(t);return(0,y.jsx)(y.Fragment,{children:n(r,o)})}j.displayName="DropdownMenu",j.defaultProps={usePopper:!0};var P=j;function S(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}var z={};S(z,"SSRProvider",(()=>M)),S(z,"useSSRSafeId",(()=>E)),S(z,"useIsSSR",(()=>N));const k={prefix:String(Math.round(1e10*Math.random())),current:0},D=a.createContext(k);function M(e){let n=(0,a.useContext)(D),t=(0,a.useMemo)((()=>({prefix:n===k?"":`${n.prefix}-${++n.current}`,current:0})),[n]);return a.createElement(D.Provider,{value:t},e.children)}let L=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function E(e){let n=(0,a.useContext)(D);return n!==k||L||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,a.useMemo)((()=>e||`react-aria${n.prefix}-${++n.current}`),[e])}function N(){let e=(0,a.useContext)(D)!==k,[n,t]=(0,a.useState)(e);return"undefined"!=typeof window&&e&&(0,a.useLayoutEffect)((()=>{t(!1)}),[]),n}const O=e=>{var n;return"menu"===(null==(n=e.getAttribute("role"))?void 0:n.toLowerCase())},T=()=>{};function I(){const e=E(),{show:n=!1,toggle:t=T,setToggle:r,menuElement:o}=(0,a.useContext)(f)||{},s=(0,a.useCallback)((e=>{t(!n,e)}),[n,t]),l={id:e,ref:r||T,onClick:s,"aria-expanded":!!n};return o&&O(o)&&(l["aria-haspopup"]=!0),[l,{show:n,toggle:t}]}function A({children:e}){const[n,t]=I();return(0,y.jsx)(y.Fragment,{children:e(n,t)})}A.displayName="DropdownToggle";var F=A,R=t(87126),$=t(86056),G=t(70861),K=t(52747);const H=["eventKey","disabled","onClick","active","as"];function W({key:e,href:n,active:t,disabled:r,onClick:o}){const s=(0,a.useContext)(R.Z),l=(0,a.useContext)($.Z),{activeKey:i}=l||{},u=(0,R.h)(e,n),c=null==t&&null!=e?(0,R.h)(i)===u:t;return[{onClick:(0,h.Z)((e=>{r||(null==o||o(e),s&&!e.isPropagationStopped()&&s(u,e))})),"aria-disabled":r||void 0,"aria-selected":c,[(0,K.PB)("dropdown-item")]:""},{isActive:c}]}const V=a.forwardRef(((e,n)=>{let{eventKey:t,disabled:r,onClick:o,active:a,as:s=G.ZP}=e,l=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,H);const[i]=W({key:t,href:l.href,disabled:r,onClick:o,active:a});return(0,y.jsx)(s,Object.assign({},l,{ref:n},i))}));V.displayName="DropdownItem";var B=V,U=t(12963);function Q(){const e=(0,m.Z)(),n=(0,a.useRef)(null),t=(0,a.useCallback)((t=>{n.current=t,e()}),[e]);return[n,t]}function q({defaultShow:e,show:n,onSelect:t,onToggle:r,itemSelector:o=`* [${(0,K.PB)("dropdown-item")}]`,focusFirstItemOnShow:s,placement:l="bottom-start",children:m}){const g=(0,U.Z)(),[x,b]=(0,c.$c)(n,e,r),[v,w]=Q(),Z=v.current,[C,j]=Q(),P=C.current,S=(0,d.Z)(x),z=(0,a.useRef)(null),k=(0,a.useRef)(!1),D=(0,a.useContext)(R.Z),M=(0,a.useCallback)(((e,n,t=(null==n?void 0:n.type))=>{b(e,{originalEvent:n,source:t})}),[b]),L=(0,h.Z)(((e,n)=>{null==t||t(e,n),M(!1,n,"select"),n.isPropagationStopped()||null==D||D(e,n)})),E=(0,a.useMemo)((()=>({toggle:M,placement:l,show:x,menuElement:Z,toggleElement:P,setMenu:w,setToggle:j})),[M,l,x,Z,P,w,j]);Z&&S&&!x&&(k.current=Z.contains(Z.ownerDocument.activeElement));const N=(0,h.Z)((()=>{P&&P.focus&&P.focus()})),T=(0,h.Z)((()=>{const e=z.current;let n=s;if(null==n&&(n=!(!v.current||!O(v.current))&&"keyboard"),!1===n||"keyboard"===n&&!/^key.+$/.test(e))return;const t=(0,i.Z)(v.current,o)[0];t&&t.focus&&t.focus()}));(0,a.useEffect)((()=>{x?T():k.current&&(k.current=!1,N())}),[x,k,N,T]),(0,a.useEffect)((()=>{z.current=null}));const I=(e,n)=>{if(!v.current)return null;const t=(0,i.Z)(v.current,o);let r=t.indexOf(e)+n;return r=Math.max(0,Math.min(r,t.length)),t[r]};return(0,p.Z)((0,a.useCallback)((()=>g.document),[g]),"keydown",(e=>{var n,t;const{key:r}=e,o=e.target,a=null==(n=v.current)?void 0:n.contains(o),s=null==(t=C.current)?void 0:t.contains(o);if(/input|textarea/i.test(o.tagName)&&(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===o.type))return;if(!a&&!s)return;if(!("Tab"!==r||v.current&&x))return;z.current=e.type;const l={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const n=I(o,-1);return n&&n.focus&&n.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),x){const e=I(o,1);e&&e.focus&&e.focus()}else b(!0,l);return;case"Tab":(0,u.ZP)(o.ownerDocument,"keyup",(e=>{var n;("Tab"!==e.key||e.target)&&null!=(n=v.current)&&n.contains(e.target)||b(!1,l)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),b(!1,l)}})),(0,y.jsx)(R.Z.Provider,{value:L,children:(0,y.jsx)(f.Provider,{value:E,children:m})})}q.displayName="Dropdown",q.Menu=P,q.Toggle=F,q.Item=B;var Y=q;const J=a.createContext({});J.displayName="DropdownContext";var X=J,_=t(23735),ee=t(76792);const ne=a.forwardRef((({bsPrefix:e,className:n,eventKey:t,disabled:r=!1,onClick:o,active:a,as:s=_.Z,...i},u)=>{const c=(0,ee.vE)(e,"dropdown-item"),[d,m]=W({key:t,href:i.href,disabled:r,onClick:o,active:a});return(0,y.jsx)(s,{...i,...d,ref:u,className:l()(n,c,m.isActive&&"active",r&&"disabled")})}));ne.displayName="DropdownItem";var te=ne,re=t(99585),oe=t(35654);t(42473);const ae=a.createContext(null);ae.displayName="InputGroupContext";var se=ae,le=t(64819);t(41143);function ie(e,n){return e}function ue(e,n,t){let r=e?t?"bottom-start":"bottom-end":t?"bottom-end":"bottom-start";return"up"===n?r=e?t?"top-start":"top-end":t?"top-end":"top-start":"end"===n?r=e?t?"left-end":"right-end":t?"left-start":"right-start":"start"===n&&(r=e?t?"right-end":"left-end":t?"right-start":"left-start"),r}const ce=a.forwardRef((({bsPrefix:e,className:n,align:t,rootCloseEvent:r,flip:o,show:s,renderOnMount:i,as:u="div",popperConfig:c,variant:d,...m},p)=>{let h=!1;const f=(0,a.useContext)(le.Z),g=(0,ee.vE)(e,"dropdown-menu"),{align:x,drop:b,isRTL:v}=(0,a.useContext)(X);t=t||x;const w=(0,a.useContext)(se),Z=[];if(t)if("object"==typeof t){const e=Object.keys(t);if(e.length){const n=e[0],r=t[n];h="start"===r,Z.push(`${g}-${n}-${r}`)}}else"end"===t&&(h=!0);const j=ue(h,b,v),[P,{hasShown:S,popper:z,show:k,toggle:D}]=C({flip:o,rootCloseEvent:r,show:s,usePopper:!f&&0===Z.length,offset:[0,2],popperConfig:c,placement:j});if(P.ref=(0,oe.Z)(ie(p),P.ref),(0,re.Z)((()=>{k&&(null==z||z.update())}),[k]),!S&&!i&&!w)return null;"string"!=typeof u&&(P.show=k,P.close=()=>null==D?void 0:D(!1),P.align=t);let M=m.style;return null!=z&&z.placement&&(M={...m.style,...P.style},m["x-placement"]=z.placement),(0,y.jsx)(u,{...m,...P,style:M,...(Z.length||f)&&{"data-bs-popper":"static"},className:l()(n,g,k&&"show",h&&`${g}-end`,d&&`${g}-${d}`,...Z)})}));ce.displayName="DropdownMenu",ce.defaultProps={flip:!0};var de=ce,me=t(77104);const pe=a.forwardRef((({bsPrefix:e,split:n,className:t,childBsPrefix:r,as:o=me.Z,...s},i)=>{const u=(0,ee.vE)(e,"dropdown-toggle"),c=(0,a.useContext)(f),d=(0,a.useContext)(se);void 0!==r&&(s.bsPrefix=r);const[m]=I();return m.ref=(0,oe.Z)(m.ref,ie(i)),(0,y.jsx)(o,{className:l()(t,u,n&&`${u}-split`,!!d&&(null==c?void 0:c.show)&&"show"),...m,...s})}));pe.displayName="DropdownToggle";var he=pe,fe=t(44680);const ge=(0,fe.Z)("dropdown-header",{defaultProps:{role:"heading"}}),xe=(0,fe.Z)("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),be=(0,fe.Z)("dropdown-item-text",{Component:"span"}),ve=a.forwardRef(((e,n)=>{const{bsPrefix:t,drop:r,show:o,className:s,align:i,onSelect:u,onToggle:d,focusFirstItemOnShow:m,as:p="div",navbar:f,autoClose:g,...x}=(0,c.Ch)(e,{show:"onToggle"}),b=(0,a.useContext)(se),v=(0,ee.vE)(t,"dropdown"),w=(0,ee.SC)(),Z=(0,h.Z)(((e,n)=>{var t;n.originalEvent.currentTarget!==document||"keydown"===n.source&&"Escape"!==n.originalEvent.key||(n.source="rootClose"),t=n.source,(!1===g?"click"===t:"inside"===g?"rootClose"!==t:"outside"!==g||"select"!==t)&&(null==d||d(e,n))})),C=ue("end"===i,r,w),j=(0,a.useMemo)((()=>({align:i,drop:r,isRTL:w})),[i,r,w]);return(0,y.jsx)(X.Provider,{value:j,children:(0,y.jsx)(Y,{placement:C,show:o,onSelect:u,onToggle:Z,focusFirstItemOnShow:m,itemSelector:`.${v}-item:not(.disabled):not(:disabled)`,children:b?x.children:(0,y.jsx)(p,{...x,ref:n,className:l()(s,o&&"show",(!r||"down"===r)&&v,"up"===r&&"dropup","end"===r&&"dropend","start"===r&&"dropstart")})})})}));ve.displayName="Dropdown",ve.defaultProps={navbar:!1,align:"start",autoClose:!0};var ye=Object.assign(ve,{Toggle:he,Menu:de,Item:te,ItemText:be,Divider:xe,Header:ge}),we=t(23314),Ze=t(64593),Ce=t(48903);function je(){var e={nozzle:null,hotend:null,nozzleDiameter:.4,filamentDiameter:(0,o.K)().filamentDiameter,customNozzleDiameter:0,customNozzleLength:0,customMeltZoneDiameter:0,customMeltZoneLength:0,layerHeight:.2,extrusionWidth:.3,printSpeed:50},n=(0,r.TA)({initialValues:e,onSubmit:(0,a.useCallback)((function(e){var n="custom"!==e.nozzle?(0,Ce.AF)(e.nozzle):{diameter:e.customNozzleDiameter,length:e.customNozzleLength},t="custom"!==e.hotend?(0,Ce.Q)(e.hotend):{meltZoneDiameter:e.customMeltZoneDiameter,meltZoneLength:e.customMeltZoneLength},r=Math.PI*Math.pow(n.diameter/2,2)*n.length,o=Math.PI*Math.pow(t.meltZoneDiameter/2,2)*t.meltZoneLength,a=r+o,s=e.extrusionWidth*e.layerHeight*e.printSpeed;console.dir("".concat(r.toFixed(2)," mm^3 + ").concat(o.toFixed(2)," mm^3 = ").concat(a.toFixed(2)," mm^3")),console.dir("".concat(s," mm^3/s"))}),[])}),t=n.values,s=n.handleChange,l=n.handleSubmit,i=n.setFieldValue,u=(0,a.useCallback)((function(e){return i("nozzle",e)}),[i]),c=(0,a.useCallback)((function(e){return i("hotend",e)}),[i]),d="Select One",m="Select One";return t.hotend&&(d="custom"===t.hotend?"Custom":t.hotend),t.nozzle&&(m="custom"===t.nozzle?"Custom":t.nozzle),(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(Ze.q,{title:"Volumetric Flow Optimization"}),(0,y.jsx)("h1",{children:"Volumetric Flow Optimization"}),(0,y.jsxs)(we.Z,{onSubmit:l,children:[(0,y.jsx)("h3",{children:"Hotend"}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Type"}),(0,y.jsxs)(ye,{onSelect:c,children:[(0,y.jsx)(ye.Toggle,{variant:"primary",children:d}),(0,y.jsxs)(ye.Menu,{children:[Ce.bA.map((function(e){return(0,y.jsx)(ye.Item,{eventKey:e.name,children:e.name},e.name)})),(0,y.jsx)(ye.Item,{eventKey:"custom",value:"custom",children:"Custom"})]})]})]}),"custom"===t.hotend&&(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Length (mm)"}),(0,y.jsx)(we.Z.Control,{name:"customMeltZoneLength",onChange:s,type:"number",value:t.customMeltZoneLength})]}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Diameter (mm)"}),(0,y.jsx)(we.Z.Control,{name:"customMeltZoneDiameter",onChange:s,type:"number",value:t.customMeltZoneDiameter})]})]}),(0,y.jsx)("h3",{children:"Nozzle"}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Type"}),(0,y.jsxs)(ye,{onSelect:u,children:[(0,y.jsx)(ye.Toggle,{variant:"primary",children:m}),(0,y.jsxs)(ye.Menu,{children:[Ce.OK.map((function(e){return(0,y.jsx)(ye.Item,{eventKey:e.name,children:e.name},e.name)})),(0,y.jsx)(ye.Item,{eventKey:"custom",value:"custom",children:"Custom"})]})]})]}),"custom"===t.nozzle&&(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Interior Diameter (mm)"}),(0,y.jsx)(we.Z.Control,{name:"customNozzleDiameter",onChange:s,type:"number",value:t.customNozzleDiameter})]}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Interior Length (mm)"}),(0,y.jsx)(we.Z.Control,{name:"customNozzleLength",onChange:s,type:"number",value:t.customNozzleLength})]})]}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Diameter (mm)"}),(0,y.jsx)(we.Z.Control,{name:"nozzleDiameter",onChange:s,type:"number",value:t.nozzleDiameter})]}),(0,y.jsx)("h3",{children:"Slicing Parameters"}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Layer Height (mm)"}),(0,y.jsx)(we.Z.Control,{name:"layerHeight",onChange:s,type:"number",value:t.layerHeight})]}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Extrusion Width (mm)"}),(0,y.jsx)(we.Z.Control,{name:"extrusionWidth",onChange:s,type:"number",value:t.extrusionWidth})]}),(0,y.jsxs)(we.Z.Group,{children:[(0,y.jsx)(we.Z.Label,{children:"Print Speed (mm/s)"}),(0,y.jsx)(we.Z.Control,{name:"printSpeed",onChange:s,type:"number",value:t.printSpeed})]}),(0,y.jsx)(we.Z.Group,{children:(0,y.jsx)(me.Z,{className:"mt-4",type:"submit",variant:"primary",children:"Calculate"})})]})]})}},48903:function(e,n,t){t.d(n,{AF:function(){return c},Hk:function(){return f},Kl:function(){return p},NC:function(){return l},OK:function(){return u},Q:function(){return m},Ut:function(){return i},ZM:function(){return a},bA:function(){return d},j1:function(){return o},lO:function(){return h},w5:function(){return s}});var r=t(71002),o=function(e){if("object"===("undefined"==typeof window?"undefined":(0,r.Z)(window))){var n=e.toString(),t=new Blob(["(".concat(n,")()")]);return new Worker(URL.createObjectURL(t))}},a=[{brand:"3D Solutech",mass:173},{brand:"Amazon Basics",mass:248},{brand:"Amolen",mass:190},{brand:"Atomic Filament",mass:306},{brand:"Colorfabb",mass:236},{brand:"eSun",mass:224},{brand:"Inland",mass:225},{brand:"Hatchbox",mass:225},{brand:"Overture",mass:237},{brand:"PolyMaker",mass:220},{brand:"Prusament",mass:201},{brand:"ProtoPasta",mass:70},{brand:"StrongHero3D",mass:151},{brand:"SunLu",mass:133},{brand:"ZYLtech",mass:179}],s=function(e){return a.find((function(n){return n.brand===e}))},l=[{name:"PLA",density:1.24},{name:"ABS",density:1.04},{name:"PETG",density:1.27},{name:"Nylon",density:1.52},{name:"TPU",density:1.21},{name:"PC",density:1.3},{name:"CF",density:1.3},{name:"HIPS",density:1.03},{name:"PVA",density:1.23},{name:"ASA",density:1.05},{name:"PP",density:.9},{name:"POM",density:1.4},{name:"PMMA",density:1.18}],i=function(e){return l.find((function(n){return n.name===e}))},u=[{name:"Mk8",diameter:2.4,length:13},{name:"Mk10",diameter:4,length:13},{name:"Volcano 1.75mm",diameter:2,length:21},{name:"Volcano 3mm",diameter:3.2,length:21}],c=function(e){return u.find((function(n){return n.name===e}))},d=[{name:"Ender 3",meltZoneDiameter:2,meltZoneLength:25},{name:"Volcano",meltZoneDiameter:6,meltZoneLength:19}],m=function(e){return d.find((function(n){return n.name===e}))},p=[1.8,.9,7.5],h=[1.25,1,12,16,25,1.41111,1.27,1.5875],f=function(e){var n=0,t=e.currentWeight-e.spoolWeight;return{mass:t,volume:n="custom"!==e.material?t/i(e.material).density:t/e.materialDensity,length:n/Math.PI/Math.pow(e.filamentDiameter/2,2),percent:t/e.netWeight*100}}}}]);
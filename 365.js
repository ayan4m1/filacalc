"use strict";(self.webpackChunkfilacalc=self.webpackChunkfilacalc||[]).push([[365],{4365:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(5697),a=r.n(t),s=r(7294),i=r(682),o=r(4051),l=r(1555),u=r(6968),c=r(1479),d=r(4593),m=r(8375),f=r(5893);function h(e){var n=e.errors;return null!=n&&n.length?(0,f.jsx)(m.Z,{className:"my-4",variant:"warning",children:(0,f.jsx)("ul",{className:"mb-0",children:n.map((function(e){return(0,f.jsx)("li",{children:e},e)}))})}):null}h.propTypes={errors:a().arrayOf(a().string).isRequired};var y=r(9306),b=r(8485);function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,a,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return s}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var g=r(256);function x(e){var n=e.title,r=e.description,t=e.renderForm,a=e.renderResults,m=function(e){var n=e.initialValues,r=e.calculate,t=e.shouldShow,a=e.validate,i=p((0,s.useState)(null),2),o=i[0],l=i[1],u=p((0,s.useState)([]),2),c=u[0],d=u[1],m=(0,b.TA)({initialValues:n}),f=m.values,h=m.touched;return(0,s.useEffect)((function(){if(!t(f,h))return d([]),void l(null);var e=a(f);e.length>0?(d(e),l(null)):(d([]),l(r(f)))}),[f,h,t,a,r,l]),{formik:m,results:o,errors:c}}({initialValues:e.initialValues,shouldShow:e.shouldShow,validate:e.validate,calculate:e.calculate}),v=m.formik,x=m.results,j=m.errors,Z=v.setFieldValue,w=(0,g.Z)((0,s.useCallback)((function(e){return Z("length",e.length.toFixed(2))}),[Z]));return w.loading?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(d.q,{title:"Filament Usage"}),(0,f.jsx)("h1",{children:"Filament Usage"}),(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(o.Z,{children:(0,f.jsx)(l.Z,{className:"text-center",children:(0,f.jsx)("h4",{children:"Parsing your G-code..."})})}),(0,f.jsx)(o.Z,{children:(0,f.jsxs)(l.Z,{className:"text-center",children:[(0,f.jsx)(u.Z,{animation:"border",className:"my-3"}),(0,f.jsx)(c.Z,{animated:!0,now:w.progress,variant:"primary"})]})})]})]}):(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(d.q,{title:n}),(0,f.jsx)("h1",{children:n}),Boolean(r)&&(0,f.jsx)("p",{children:r}),t(v,w),(0,f.jsx)(h,{errors:j}),a&&x?a(x):(0,f.jsx)(y.Z,{results:x})]})}x.propTypes={title:a().string.isRequired,description:a().string,renderForm:a().func.isRequired,renderResults:a().func,initialValues:a().object.isRequired,shouldShow:a().func.isRequired,validate:a().func,calculate:a().func.isRequired}},9306:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(5697),a=r.n(t),s=r(6025),i=r(4051),o=r(1555),l=r(5893);function u(e){var n=e.children,r=e.results,t=e.title,a=void 0===t?"Results":t;return n||r?(0,l.jsxs)(s.Z,{body:!0,className:"my-4",children:[(0,l.jsx)(s.Z.Title,{children:a}),(null==r?void 0:r.length)>0&&r.map((function(e,t){return(0,l.jsxs)(i.Z,{className:Boolean(n)&&t===r.length-1?"mb-4":null,children:[(0,l.jsx)(o.Z,{xs:2,children:(0,l.jsx)("strong",{children:e.label})}),(0,l.jsx)(o.Z,{xs:10,children:e.content})]},e.label)})),n]}):null}u.propTypes={children:a().node,results:a().arrayOf(a().shape({label:a().string.isRequired,content:a().oneOfType([a().node,a().string]).isRequired})),title:a().string}},256:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(7294),a=()=>{const e=e=>{for(const[,,,n,r]of[...e.trim().matchAll(/(\s*(([XYZFEIJR])([0-9\-.]+))\s*)/g)])if("E"===n)return parseFloat(r);return 0};self.addEventListener("message",(({data:n})=>{const r=new FileReader;let t=0,a=0;r.addEventListener("load",(n=>{const r=n.target.result.split(/[\n]/g).filter((e=>/^G[1-3]/.test(e)));for(const[n,s]of r.entries()){t+=e(s);const i=Math.round(n/r.length*100);i!==a&&(postMessage({type:"progress",progress:i}),a=i)}t>0&&postMessage({type:"result",length:t/1e3})})),r.addEventListener("error",(e=>{postMessage({type:"error",error:e})})),r.readAsText(n)}))},s=r(8903);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,a,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return s}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function l(e){var n=(0,t.useMemo)((function(){return(0,s.j1)(a)}),[]),r=i((0,t.useState)(!1),2),o=r[0],l=r[1],u=i((0,t.useState)(!1),2),c=u[0],d=u[1],m=i((0,t.useState)(0),2),f=m[0],h=m[1],y=(0,t.useCallback)((function(n){var r=n.data;switch(r.type){case"progress":h(r.progress);break;case"result":e(r),d(!1),h(100);break;case"error":l(!0),d(!1)}}),[e,h,d,l]),b=(0,t.useCallback)((function(e){var r=i(e.target.files,1)[0];if(!r||!r.name.endsWith(".gcode"))return l(!0),void d(!1);l(!1),d(!0),h(0),n.postMessage(r)}),[n]);return(0,t.useEffect)((function(){return n.addEventListener("message",y),function(){return n.removeEventListener("message",y)}})),{loading:c,error:o,progress:f,handleChange:b}}},8903:function(e,n,r){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}r.d(n,{AF:function(){return c},Hk:function(){return y},Kl:function(){return f},NC:function(){return o},OK:function(){return u},Q:function(){return m},Ut:function(){return l},ZM:function(){return s},bA:function(){return d},j1:function(){return a},lO:function(){return h},w5:function(){return i}});var a=function(e){if("object"===("undefined"==typeof window?"undefined":t(window))){var n=e.toString(),r=new Blob(["(".concat(n,")()")]);return new Worker(URL.createObjectURL(r))}},s=[{brand:"3D Solutech",mass:173},{brand:"Amazon Basics",mass:248},{brand:"Amolen",mass:190},{brand:"Atomic Filament",mass:306},{brand:"Colorfabb",mass:236},{brand:"eSun",mass:224},{brand:"Inland",mass:225},{brand:"Hatchbox",mass:225},{brand:"Overture - Plastic",mass:237},{brand:"Overture - Cardboard",mass:177},{brand:"PolyMaker",mass:220},{brand:"Prusament",mass:201},{brand:"ProtoPasta",mass:70},{brand:"StrongHero3D",mass:151},{brand:"SunLu",mass:133},{brand:"ZYLtech",mass:179}],i=function(e){return s.find((function(n){return n.brand===e}))},o=[{name:"PLA",density:1.24},{name:"ABS",density:1.04},{name:"PETG",density:1.27},{name:"Nylon",density:1.52},{name:"TPU",density:1.21},{name:"PC",density:1.3},{name:"CF",density:1.3},{name:"HIPS",density:1.03},{name:"PVA",density:1.23},{name:"ASA",density:1.05},{name:"PP",density:.9},{name:"POM",density:1.4},{name:"PMMA",density:1.18}],l=function(e){return o.find((function(n){return n.name===e}))},u=[{name:"Mk8",diameter:2.4,length:13},{name:"Mk10",diameter:4,length:13},{name:"Volcano 1.75mm",diameter:2,length:21},{name:"Volcano 3mm",diameter:3.2,length:21}],c=function(e){return u.find((function(n){return n.name===e}))},d=[{name:"Ender 3",meltZoneDiameter:2,meltZoneLength:25},{name:"Volcano",meltZoneDiameter:6,meltZoneLength:19}],m=function(e){return d.find((function(n){return n.name===e}))},f=[1.8,.9,7.5],h=[1.25,1,12,16,25,1.41111,1.27,1.5875],y=function(e){var n=0,r=e.currentWeight-e.spoolWeight;return{mass:r,volume:n="custom"!==e.material?r/l(e.material).density:r/e.materialDensity,length:n/Math.PI/Math.pow(e.filamentDiameter/2,2),percent:r/e.netWeight*100}}},8375:function(e,n,r){var t=r(4184),a=r.n(t),s=r(7294),i=r(4289),o=r(8146),l=r(3735),u=r(6792),c=r(1068),d=r(1485),m=r(9602),f=r(4680),h=r(5893);const y=(0,m.Z)("h4");y.displayName="DivStyledAsH4";const b=(0,f.Z)("alert-heading",{Component:y}),p=(0,f.Z)("alert-link",{Component:l.Z}),v={variant:"primary",show:!0,transition:c.Z,closeLabel:"Close alert"},g=s.forwardRef(((e,n)=>{const{bsPrefix:r,show:t,closeLabel:s,closeVariant:l,className:m,children:f,variant:y,onClose:b,dismissible:p,transition:v,...g}=(0,i.Ch)(e,{show:"onClose"}),x=(0,u.vE)(r,"alert"),j=(0,o.Z)((e=>{b&&b(!1,e)})),Z=!0===v?c.Z:v,w=(0,h.jsxs)("div",{role:"alert",...Z?void 0:g,ref:n,className:a()(m,x,y&&`${x}-${y}`,p&&`${x}-dismissible`),children:[p&&(0,h.jsx)(d.Z,{onClick:j,"aria-label":s,variant:l}),f]});return Z?(0,h.jsx)(Z,{unmountOnExit:!0,...g,ref:void 0,in:t,children:w}):t?w:null}));g.displayName="Alert",g.defaultProps=v,n.Z=Object.assign(g,{Link:p,Heading:b})},6025:function(e,n,r){r.d(n,{Z:function(){return P}});var t=r(4184),a=r.n(t),s=r(7294),i=r(6792),o=r(4680),l=r(9602),u=r(5893);const c=s.forwardRef((({bsPrefix:e,className:n,variant:r,as:t="img",...s},o)=>{const l=(0,i.vE)(e,"card-img");return(0,u.jsx)(t,{ref:o,className:a()(r?`${l}-${r}`:l,n),...s})}));c.displayName="CardImg";var d=c,m=r(9059);const f=s.forwardRef((({bsPrefix:e,className:n,as:r="div",...t},o)=>{const l=(0,i.vE)(e,"card-header"),c=(0,s.useMemo)((()=>({cardHeaderBsPrefix:l})),[l]);return(0,u.jsx)(m.Z.Provider,{value:c,children:(0,u.jsx)(r,{ref:o,...t,className:a()(n,l)})})}));f.displayName="CardHeader";var h=f;const y=(0,l.Z)("h5"),b=(0,l.Z)("h6"),p=(0,o.Z)("card-body"),v=(0,o.Z)("card-title",{Component:y}),g=(0,o.Z)("card-subtitle",{Component:b}),x=(0,o.Z)("card-link",{Component:"a"}),j=(0,o.Z)("card-text",{Component:"p"}),Z=(0,o.Z)("card-footer"),w=(0,o.Z)("card-img-overlay"),S=s.forwardRef((({bsPrefix:e,className:n,bg:r,text:t,border:s,body:o,children:l,as:c="div",...d},m)=>{const f=(0,i.vE)(e,"card");return(0,u.jsx)(c,{ref:m,...d,className:a()(n,f,r&&`bg-${r}`,t&&`text-${t}`,s&&`border-${s}`),children:o?(0,u.jsx)(p,{children:l}):l})}));S.displayName="Card",S.defaultProps={body:!1};var P=Object.assign(S,{Img:d,Title:v,Subtitle:g,Body:p,Link:x,Text:j,Header:h,Footer:Z,ImgOverlay:w})},1479:function(e,n,r){var t=r(4184),a=r.n(t),s=r(7294),i=r(6792),o=r(3439),l=r(5893);function u(e,n,r){const t=(e-n)/(r-n)*100;return Math.round(1e3*t)/1e3}function c({min:e,now:n,max:r,label:t,visuallyHidden:s,striped:i,animated:o,className:c,style:d,variant:m,bsPrefix:f,...h},y){return(0,l.jsx)("div",{ref:y,...h,role:"progressbar",className:a()(c,`${f}-bar`,{[`bg-${m}`]:m,[`${f}-bar-animated`]:o,[`${f}-bar-striped`]:o||i}),style:{width:`${u(n,e,r)}%`,...d},"aria-valuenow":n,"aria-valuemin":e,"aria-valuemax":r,children:s?(0,l.jsx)("span",{className:"visually-hidden",children:t}):t})}const d=s.forwardRef((({isChild:e,...n},r)=>{if(n.bsPrefix=(0,i.vE)(n.bsPrefix,"progress"),e)return c(n,r);const{min:t,now:u,max:d,label:m,visuallyHidden:f,striped:h,animated:y,bsPrefix:b,variant:p,className:v,children:g,...x}=n;return(0,l.jsx)("div",{ref:r,...x,className:a()(v,b),children:g?(0,o.UI)(g,(e=>(0,s.cloneElement)(e,{isChild:!0}))):c({min:t,now:u,max:d,label:m,visuallyHidden:f,striped:h,animated:y,bsPrefix:b,variant:p},r)})}));d.displayName="ProgressBar",d.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1},n.Z=d}}]);